<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add a Joke • Syntax Error</title>
    <meta name="description" content="Submit a new programming or tech joke to the Joke of the Day app." />
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f923.svg" />
    <link rel="stylesheet" href="style.css" />

    <!-- Environment-aware API base injection -->
    <script>
        window.API_BASE =
            window.location.hostname === "localhost"
                ? "http://localhost:8000"
                : "https://jotd-api-wl6ruoti2q-uc.a.run.app";
    </script>

    <script defer src="add.js"></script>
</head>

<body>
    <div class="shape"></div>
    <div class="shape"></div>
    <div class="shape"></div>

    <main class="card">
        <h2>Add a New Joke</h2>
        <p>All fields are <strong>required</strong>.</p>

        <form id="joke-form" novalidate>
            <div class="field">
                <label for="setup">Setup</label>
                <textarea id="setup" name="setup" rows="3" required
                    placeholder="e.g., Why do programmers prefer dark mode?"></textarea>
                <small class="error" id="err-setup"></small>
            </div>

            <div class="field">
                <label for="punchline">Punchline</label>
                <textarea id="punchline" name="punchline" rows="2" required
                    placeholder="Because light attracts bugs."></textarea>
                <small class="error" id="err-punchline"></small>
            </div>

            <div class="field">
                <label for="category">Category</label>
                <select id="category" name="category" required>
                    <option value="">-- Select a category --</option>
                    <option>Programming</option>
                    <option>Hardware & Tech</option>
                    <option>Networking & IT</option>
                    <option>Wordplay & Office Life</option>
                </select>
                <small class="error" id="err-category"></small>
            </div>

            <div class="actions">
                <button type="submit" id="submit-btn">Save Joke</button>
                <a href="index.html" class="link-btn secondary">Back to Home</a>
            </div>

            <p id="result" class="result"></p>
        </form>
    </main>

    <footer>Syntax Error • Add Joke Wizard</footer>
</body>

</html>